
  
  <view class="comp-custom-page">
    <block  wx:if="{{ $CustomPage$dataInited }}">
      
    <view id="page-doctor">
      <view class="search-bar flex--vcenter--sb">
        <view  wx:if="{{ !onSearch }}" class="filter-btn flex-item--none flex--vcenter" bindtap="openFilterBox">
          <image class="filter-icon" src="../assets/images/filter-icon.png"/><text>筛选</text>
        </view>
        <view class="search-input-wrap flex-item flex--vcenter">
          <icon type="search" size="16"/>
          <input class="flex-item" value="{{ searchParams.searchWord }}" placeholder-style="color: #B8B8B8;" placeholder="搜索" bindconfirm="handleSearch" bindfocus="handleSearchFocus"/>
        </view>
        <view  wx:if="{{ onSearch }}" class="cancel-btn" bindtap="handleCancelSearch">取消</view>
      </view>
      <view class="mask {{ onSearch ? 'search-mask': '' }}" hidden="{{ !filterVisible && !onSearch }}" bindtap="handleMaskTap">
      </view>
      <view class="filter-box" hidden="{{ !filterVisible || onSearch }}">
        <view class="box-inner main-bg">
          <view class="filter-items">
            <view class="filter-sort flex">
              <view class="sort-label flex-item--none">院区选择：</view>
              <view class="sort-items flex-item flex">
                <block wx:for="{{ hospAreaList }}" wx:for-index="index" wx:for-item="item" wx:key="{{ index }}">
                  <view class="filter-item flex-item--none {{ item.picked ? 'picked' : '' }}" bindtap="pickedItem" data-wpypickeditem-a="hospAreaList" data-wpypickeditem-b="{{ item.id || '' }}">{{ item.name }}</view>
                </block>
              </view>
            </view>
            <view class="filter-sort flex">
              <view class="sort-label flex-item--none">医生类别：</view>
              <view class="sort-items flex-item flex">
                <block wx:for="{{ doctorTypeList }}" wx:for-index="index" wx:for-item="item" wx:key="index">
                  <view class="filter-item flex-item--none {{ item.picked ? 'picked' : '' }}" bindtap="pickedItem" data-wpypickeditem-a="doctorTypeList" data-wpypickeditem-b="{{ item.id || '' }}">{{ item.name }}</view>
                </block>
              </view>
            </view>
          </view>
          <view class="btn-wrap flex">
            <view class="reset-btn flex--center" bindtap="resetFilters">重置</view>
            <view class="confirm-btn flex--center" bindtap="submitFilters">确认</view>
          </view>
        </view>
      </view>
      <scroll-view scroll-y="true">
        <view class="doctor-list-wrap">
          <view class="doctor-list flex">
            <block wx:for="{{ listData }}" wx:for-index="index" wx:for-item="item" wx:key="index">
              <view class="doctor-item main-bg" bindtap="handleItemTap" data-wpyhandleitemtap-a="{{ item.id }}">
                <view class="avatar-wrap flex--center">
                  <image src="../assets/images/doctor-avatar.png"/>
                </view>
                <view class="name-wrap">
                  <text>{{ item.name }}</text>
                </view>
                <view class="intro-wrap text-ellipsis--two">
                  <text>{{ item.intro }}</text>
                </view>
              </view>
            </block>
          </view>
        </view>
      </scroll-view>
    </view>
  
    </block>
    <view wx:if="{{ $CustomPage$noData || $CustomPage$noServer }}" class="fail-tip flex--center">
      <image mode="widthFix" class="fail-tip-image" wx:if="{{ $CustomPage$noData }}" src="../assets/images/no-data.png"/>
      <image mode="widthFix" class="fail-tip-image" wx:elif="{{ $CustomPage$noServer }}" src="../assets/images/no-server.png" bindtap="$CustomPage$refreshPage"/>
    </view>
    <view wx:if="{{ $CustomPage$isLastPage }}" class="no-more-tip">
      <text>已无更多内容了</text>
    </view>
  </view>
